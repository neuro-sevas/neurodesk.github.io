<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.94.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/neurodesk.github.io/favicons/favicon.ico><link rel=apple-touch-icon href=/neurodesk.github.io/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/neurodesk.github.io/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/neurodesk.github.io/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/neurodesk.github.io/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/neurodesk.github.io/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/neurodesk.github.io/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/neurodesk.github.io/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/neurodesk.github.io/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/neurodesk.github.io/favicons/android-192x192.png sizes=192x192><title>Using mriqc with neurodesk on HPC | NeuroDesk</title><meta name=description content="A brief guide to using mriqc with neurodesk, using data from the STRIAVISE project.
"><meta property="og:title" content="Using mriqc with neurodesk on HPC"><meta property="og:description" content="A brief guide to using mriqc with neurodesk, using data from the STRIAVISE project.
"><meta property="og:type" content="article"><meta property="og:url" content="https://neuro-sevas/neurodesk.github.io/tutorials/functional_imaging/mriqc_cvl/"><meta property="article:section" content="tutorials"><meta property="article:modified_time" content="2022-02-23T14:02:46+10:00"><meta property="og:site_name" content="NeuroDesk"><meta itemprop=name content="Using mriqc with neurodesk on HPC"><meta itemprop=description content="A brief guide to using mriqc with neurodesk, using data from the STRIAVISE project.
"><meta itemprop=dateModified content="2022-02-23T14:02:46+10:00"><meta itemprop=wordCount content="649"><meta itemprop=keywords content="mriqc,documentation,preprocessing,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Using mriqc with neurodesk on HPC"><meta name=twitter:description content="A brief guide to using mriqc with neurodesk, using data from the STRIAVISE project.
"><link rel=preload href=/neurodesk.github.io/scss/main.min.8ae326e95d9c6881ebe419ebd82c6634a8ac6728b2415ccd672d345f03b4cb1b.css as=style><link href=/neurodesk.github.io/scss/main.min.8ae326e95d9c6881ebe419ebd82c6634a8ac6728b2415ccd672d345f03b4cb1b.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
<script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script>
<link rel=stylesheet href=/neurodesk.github.io/css/prism.css><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-221108279-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/neurodesk.github.io/><span class=navbar-logo></span><span class="text-uppercase font-weight-bold">NeuroDesk</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/neurodesk.github.io/docs/how-to-cite-us/><span>Cite</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/neurodesk.github.io/docs/><span>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/neurodesk.github.io/docs/faq/><span>FAQ</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/neurodesk.github.io/applications/><span>Applications</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/neurodesk.github.io/developers/><span>Developers</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/neurodesk.github.io/tutorials/><span class=active>Tutorials</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=https://github.com/NeuroDesk target=_blank><span>GitHub</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=https://twitter.com/neuro_desk target=_blank><span>News</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/neurodesk.github.io/offline-search-index.49958059539d8b508473f889b67a882f.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/neurodesk.github.io/offline-search-index.49958059539d8b508473f889b67a882f.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-neurodeskgithubiotutorials-li><a href=/neurodesk.github.io/tutorials/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-neurodeskgithubiotutorials><span>Tutorials</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-neurodeskgithubiotutorialselectrophysiology-li><a href=/neurodesk.github.io/tutorials/electrophysiology/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-neurodeskgithubiotutorialselectrophysiology><span>Electrophysiology</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-neurodeskgithubiotutorialselectrophysiologyfieldtrip-li><a href=/neurodesk.github.io/tutorials/electrophysiology/fieldtrip/ title="Analysing M/EEG Data with FieldTrip" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-neurodeskgithubiotutorialselectrophysiologyfieldtrip><span>fieldtrip</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-neurodeskgithubiotutorialselectrophysiologyeeg_mne-python-li><a href=/neurodesk.github.io/tutorials/electrophysiology/eeg_mne-python/ title="Analysing EEG Data with MNE" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-neurodeskgithubiotutorialselectrophysiologyeeg_mne-python><span>MNE-Python: EEG</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-neurodeskgithubiotutorialsfunctional_imaging-li><a href=/neurodesk.github.io/tutorials/functional_imaging/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-neurodeskgithubiotutorialsfunctional_imaging><span>Functional Imaging</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-neurodeskgithubiotutorialsfunctional_imagingfmriprep_cvl-li><a href=/neurodesk.github.io/tutorials/functional_imaging/fmriprep_cvl/ title="Using fmriprep with neurodesk on an HPC" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-neurodeskgithubiotutorialsfunctional_imagingfmriprep_cvl><span>fmriprep</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-neurodeskgithubiotutorialsfunctional_imagingmriqc_cvl-li><a href=/neurodesk.github.io/tutorials/functional_imaging/mriqc_cvl/ title="Using mriqc with neurodesk on HPC" class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-neurodeskgithubiotutorialsfunctional_imagingmriqc_cvl><span class=td-sidebar-nav-active-item>mriqc</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-neurodeskgithubiotutorialsfunctional_imagingphysio-li><a href=/neurodesk.github.io/tutorials/functional_imaging/physio/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-neurodeskgithubiotutorialsfunctional_imagingphysio><span>PhysIO</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-neurodeskgithubiotutorialsfunctional_imagingphysio_batch_workflow-li><a href=/neurodesk.github.io/tutorials/functional_imaging/physio_batch_workflow/ title="A batch scripting example for PhysIO toolbox" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-neurodeskgithubiotutorialsfunctional_imagingphysio_batch_workflow><span>PhysIO_Batch</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-neurodeskgithubiotutorialsphase_processing-li><a href=/neurodesk.github.io/tutorials/phase_processing/ title="MRI phase Processing" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-neurodeskgithubiotutorialsphase_processing><span>MRI Phase</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-neurodeskgithubiotutorialsphase_processingqsm-li><a href=/neurodesk.github.io/tutorials/phase_processing/qsm/ title="Quantitative Susceptibility Mapping" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-neurodeskgithubiotutorialsphase_processingqsm><span>QSM</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-neurodeskgithubiotutorialsphase_processingswi-li><a href=/neurodesk.github.io/tutorials/phase_processing/swi/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-neurodeskgithubiotutorialsphase_processingswi><span>SWI</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-neurodeskgithubiotutorialsphase_processingunwrapping-li><a href=/neurodesk.github.io/tutorials/phase_processing/unwrapping/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-neurodeskgithubiotutorialsphase_processingunwrapping><span>Unwrapping</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-neurodeskgithubiotutorialsreproducibility-li><a href=/neurodesk.github.io/tutorials/reproducibility/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-neurodeskgithubiotutorialsreproducibility><span>Reproducibility</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-neurodeskgithubiotutorialsreproducibilitydatalad-run-li><a href=/neurodesk.github.io/tutorials/reproducibility/datalad-run/ title="Reproducible script execution with DataLad" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-neurodeskgithubiotutorialsreproducibilitydatalad-run><span>datalad run</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-neurodeskgithubiotutorialsspectroscopy-li><a href=/neurodesk.github.io/tutorials/spectroscopy/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-neurodeskgithubiotutorialsspectroscopy><span>Spectroscopy</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-neurodeskgithubiotutorialsspectroscopylcmodel-li><a href=/neurodesk.github.io/tutorials/spectroscopy/lcmodel/ title="Spectroscopy with lcmodel" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-neurodeskgithubiotutorialsspectroscopylcmodel><span>lcmodel</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-neurodeskgithubiotutorialsstructural_imaging-li><a href=/neurodesk.github.io/tutorials/structural_imaging/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-neurodeskgithubiotutorialsstructural_imaging><span>Structural Imaging</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-neurodeskgithubiotutorialsstructural_imagingfreesurfer-li><a href=/neurodesk.github.io/tutorials/structural_imaging/freesurfer/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-neurodeskgithubiotutorialsstructural_imagingfreesurfer><span>FreeSurfer</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-neurodeskgithubiotutorialsstructural_imagingstructuralconnectivity-li><a href=/neurodesk.github.io/tutorials/structural_imaging/structuralconnectivity/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-neurodeskgithubiotutorialsstructural_imagingstructuralconnectivity><span>Structural connectivity dMRI</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-neurodeskgithubiotutorialsdocumentation-li><a href=/neurodesk.github.io/tutorials/documentation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-neurodeskgithubiotutorialsdocumentation><span>Documentation</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-neurodeskgithubiotutorialsdocumentationworkflowtemplate-li><a href=/neurodesk.github.io/tutorials/documentation/workflowtemplate/ title="Template for workflow creation" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-neurodeskgithubiotutorialsdocumentationworkflowtemplate><span>Workflow template</span></a></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/NeuroDesk/neurodesk.github.io/edit/hugo-docsy/content/en/tutorials/functional_imaging/mriqc_cvl.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/NeuroDesk/neurodesk.github.io/new/hugo-docsy/content/en/tutorials/functional_imaging/mriqc_cvl.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/NeuroDesk/neurodesk.github.io/issues/new?title=Using%20mriqc%20with%20neurodesk%20on%20HPC" target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/NeuroDesk/neurodesk.github.io/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
<a id=print href=https://neuro-sevas/neurodesk.github.io/tutorials/functional_imaging/_print/><i class="fa fa-print fa-fw"></i> Print entire section</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#open-mriqc>Open mriqc</a></li><li><a href=#setting-up-mriqc-command>Setting up mriqc command</a></li><li><a href=#some-common-pitfalls-i-have-learned-from-my-mistakes-and-sometimes-from-others>Some common pitfalls I have learned from my mistakes (and sometimes from others)</a></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><h1>Using mriqc with neurodesk on HPC</h1><div class=lead>A brief guide to using mriqc with neurodesk, using data from the STRIAVISE project.</div><header class=article-meta></header><blockquote><p><em>This tutorial was created by Kelly G. Garner.</em></p><p>Github: <a href=https://github.com/kel-github>@kel_github</a></p><p>Twitter: <a href=https://twitter.com/garner_theory>@garnertheory</a></p></blockquote><blockquote><p>This workflow documents how to use mriqc with neurodesk and provides some details that may help you troubleshoot some common problems I found along the way.</p></blockquote><hr><h1 id=assumptions>Assumptions</h1><ul><li><input disabled type=checkbox> Your data is already in BIDS format</li><li><input disabled type=checkbox> You plan to run mriqc using Neurodesk</li></ul><hr><h1 id=steps>Steps</h1><h2 id=open-mriqc>Open mriqc</h2><p>From the applications go Neurodesk -> Functional Imaging -> mriqc and select the latest version of mriqc. This should take you to a terminal window with mriqc loaded.<p></p><p><img src=/mriqc_cvl/mriqc_terminal.png alt=mriqc_terminal title=mriqc_terminal> &lt;!&ndash; <img src=/subfolder_name/filename.png alt="filename without extension" title="[filename without extension"> &ndash;></p><h2 id=setting-up-mriqc-command>Setting up mriqc command</h2><p>If you like, you can enter the following mriqc commands straight into the command line in the newly opened terminal. However, as with increasing options and preferences the command can get rather verbose, so I instead opted to create executable bash scripts that I can run straight from the command line, with minimal editing inbetween runs. I made one for running mriqc at the participant level, and one for running at the group level (for the group report, once all the participants are done). If you&rsquo;re not interested in this option you can skip straight to copying/adjusting the code from <code>mriqc</code> to <code>-v</code> below.</p><ul><li>open a new file in your editor of choice (e.g. Visual Studio Code)</li><li>save that file with your chosen name without an extension, e.g. run_mriqc_participant or run_mriqc_group</li><li>paste in the following and update with your details</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a40000>#</span><span style=color:#000;font-weight:700>!</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>bin</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>bash</span>
</span></span><span style=display:flex><span><span style=color:#a40000>#</span>
</span></span><span style=display:flex><span><span style=color:#a40000>#</span> <span style=color:#000>written</span> <span style=color:#000>by</span> <span style=color:#000>A</span><span style=color:#000;font-weight:700>.</span> <span style=color:#000>Name</span> <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#000>the</span> <span style=color:#000>purpose</span> <span style=color:#000>of</span> <span style=color:#000>this</span> <span style=color:#000>code</span> <span style=color:#000>is</span> <span style=color:#000>to</span> <span style=color:#000>run</span> <span style=color:#000>mriqc</span> <span style=color:#000>with</span> <span style=color:#000>neurodesk</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>export</span> <span style=color:#000>ITK_GLOBAL_DEFAULT_NUMBER_OF_THREADS</span><span style=color:#000;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>6</span> <span style=color:#a40000>#</span> <span style=color:#000>specify</span> <span style=color:#000>the</span> <span style=color:#000>number</span> <span style=color:#000>of</span> <span style=color:#000>threads</span> <span style=color:#000>you</span> <span style=color:#000>want</span> <span style=color:#000>to</span> <span style=color:#000>use</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>mriqc</span> <span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>path</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>to</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>your</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>data</span> <span style=color:#a40000>\</span> <span style=color:#a40000>#</span> <span style=color:#000>this</span> <span style=color:#000>is</span> <span style=color:#000>the</span> <span style=color:#000>top</span> <span style=color:#000>level</span> <span style=color:#000>of</span> <span style=color:#000>your</span> <span style=color:#000>data</span> <span style=color:#000>folder</span>
</span></span><span style=display:flex><span>         <span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>path</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>to</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>your</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>data</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>derivatives</span> <span style=color:#a40000>\</span> <span style=color:#a40000>#</span> <span style=color:#000>where</span> <span style=color:#000>you</span> <span style=color:#000>want</span> <span style=color:#000>mriqc</span> <span style=color:#000>output</span> <span style=color:#000>to</span> <span style=color:#000>be</span> <span style=color:#000>saved</span>
</span></span><span style=display:flex><span>         <span style=color:#000>participant</span> <span style=color:#a40000>\</span> <span style=color:#a40000>#</span> <span style=color:#000>this</span> <span style=color:#000>tells</span> <span style=color:#000>mriqc</span> <span style=color:#000>to</span> <span style=color:#000>analyse</span> <span style=color:#000>at</span> <span style=color:#000>the</span> <span style=color:#000>participant</span> <span style=color:#000>level</span>
</span></span><span style=display:flex><span>         <span style=color:#ce5c00;font-weight:700>--</span><span style=color:#000>participant</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>label</span> <span style=color:#0000cf;font-weight:700>01</span> <span style=color:#a40000>\</span> <span style=color:#a40000>#</span> <span style=color:#000>put</span> <span style=color:#000>what</span> <span style=color:#000>ever</span> <span style=color:#000>participant</span> <span style=color:#000>labels</span> <span style=color:#000>you</span> <span style=color:#000>want</span> <span style=color:#000>to</span> <span style=color:#000>analyse</span>
</span></span><span style=display:flex><span>         <span style=color:#ce5c00;font-weight:700>--</span><span style=color:#000>work</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>dir</span> <span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>path</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>to</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>work</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>directory</span> <span style=color:#a40000>\</span> <span style=color:#a40000>#</span><span style=color:#000>useful</span> <span style=color:#000>to</span> <span style=color:#000>specify</span> <span style=color:#000>so</span> <span style=color:#000>your</span> <span style=color:#000>home</span> <span style=color:#000>directory</span> <span style=color:#000>definitely</span> <span style=color:#000>doesnt</span> <span style=color:#000>get</span> <span style=color:#000>clogged</span>
</span></span><span style=display:flex><span>         <span style=color:#ce5c00;font-weight:700>--</span><span style=color:#000>nprocs</span> <span style=color:#0000cf;font-weight:700>6</span> <span style=color:#ce5c00;font-weight:700>--</span><span style=color:#000>mem_gb</span> <span style=color:#0000cf;font-weight:700>10000</span> <span style=color:#a40000>\</span> <span style=color:#a40000>#</span> <span style=color:#000>mriqc</span> <span style=color:#000>can</span> <span style=color:#000>be</span> <span style=color:#000>greedy</span> <span style=color:#000>on</span> <span style=color:#000>the</span> <span style=color:#000>hpc</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>make</span> <span style=color:#000>sure</span> <span style=color:#000>it</span> <span style=color:#000>is</span> <span style=color:#000>not</span>
</span></span><span style=display:flex><span>         <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>v</span> <span style=color:#a40000>#</span> <span style=color:#000>be</span> <span style=color:#000>verbal</span> <span style=color:#000>mriqc</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>tell</span> <span style=color:#000>me</span> <span style=color:#000>what</span> <span style=color:#000>you</span> <span style=color:#000>are</span> <span style=color:#000>doing</span>
</span></span></code></pre></div><p>OR: if you have run all the participants and you just want the group level report, use these mriqc commands instead:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>mriqc /path/to/your/data \ # this is the top level of your data folder
</span></span><span style=display:flex><span>         /path/to/your/data/derivatives \ # where you want mriqc output to be saved. As you are running the group level analysis this folder should be prepopulated with the results of the participant level analysis
</span></span><span style=display:flex><span>         group \ # this tells mriqc to agive you the group report
</span></span><span style=display:flex><span>         -w /path/to/work/directory \ #useful to specify so your home directory definitely doesnt get clogged
</span></span><span style=display:flex><span>         --nprocs 6 --mem_gb 10000 \ # mriqc can be greedy on the hpc, make sure it is not
</span></span><span style=display:flex><span>         -v # be verbal mriqc, tell me what you are doing
</span></span></code></pre></div><p>To make either of yours files executable, navigate via the terminal to the same folder in which this file is saved. If you list the files in the folder by using the command <code>ls</code> you should see your file with the name printed in white.</p><p><img src=/mriqc_cvl/pre_exec.png alt=pre_exec title=pre_exec> &lt;!&ndash; <img src=/subfolder_name/filename.png alt="filename without extension" title="[filename without extension"> &ndash;></p><p>Now type the following command:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#000>chmod</span> <span style=color:#000>u</span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#000>x</span> <span style=color:#000>run_mriqc_participant</span> <span style=color:#a40000>#</span> <span style=color:#000>this</span> <span style=color:#000>tells</span> <span style=color:#000>the</span> <span style=color:#000>system</span> <span style=color:#000>to</span> <span style=color:#000>make</span> <span style=color:#000>your</span> <span style=color:#000>new</span> <span style=color:#000>file</span> <span style=color:#000>executable</span>
</span></span></code></pre></div><p>To know this worked, list the files again. If you have successfully made your file executable then it will be listed in green.</p><p><img src=/mriqc_cvl/mriqc_post_exec.png alt=mriqc_post_exec title=mriqc_post_exec> &lt;!&ndash; <img src=/subfolder_name/filename.png alt="filename without extension" title="[filename without extension"> &ndash;></p><p>Then to run your new executable, return to your terminal window for mriqc (that opened when you navigated to mriqc), navigate to the directory where your executable file is stored and type:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#000;font-weight:700>.</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>name_of_your_mriqc_file</span>
</span></span></code></pre></div><p>mriqc should now be merrily working away on your data :)</p><hr><h2 id=some-common-pitfalls-i-have-learned-from-my-mistakes-and-sometimes-from-others>Some common pitfalls I have learned from my mistakes (and sometimes from others)</h2><ol><li>If running on a HPC, make sure to set the processor and memory limits, if not your job will get killed because mriqc hogs all the resources.</li></ol><div class="text-muted mt-5 pt-3 border-top">Last modified
February 23, 2022
: <a href=https://github.com/NeuroDesk/neurodesk.github.io/commit/e3bc7617ea988e3f91a7157f5e51da051f042e21>Update mriqc_cvl.md (e3bc7617)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title aria-label><a class=text-white target=_blank rel=noopener href aria-label><i></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel=noopener href=https://twitter.com/neuro_desk aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title aria-label><a class=text-white target=_blank rel=noopener href aria-label><i></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/NeuroDesk aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title aria-label><a class=text-white target=_blank rel=noopener href aria-label><i></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Dicussion Forum (requires github login)" aria-label="Dicussion Forum (requires github login)"><a class=text-white target=_blank rel=noopener href=https://github.com/NeuroDesk/neurodesk.github.io/discussions aria-label="Dicussion Forum (requires github login)"><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script>
<script src=/neurodesk.github.io/js/tabpane-persist.js></script>
<script src=/neurodesk.github.io/js/main.min.2b242016bd393aa86ff3b4500b2baae3b55d65f622435861b9338518eb4a5f69.js integrity="sha256-KyQgFr05Oqhv87RQCyuq47VdZfYiQ1hhuTOFGOtKX2k=" crossorigin=anonymous></script>
<script src=/neurodesk.github.io/js/prism.js></script></body></html>